<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>我的歌单详情【在线音乐推荐系统】</title>
    {% include '../common/css.html' %}
</head>
<body class="sticky-header left-side-collapsed" style="">
	<section>
		<div class="main-content" style="margin-left:0px;padding-top:0px">
			{% include '../common/header.html' %}
			<div id="page-wrapper">
				<div class="inner-content" align="center">
					<div class="music-left" style="float:none;">
						<div class="albums">
							{% include '../common/menu.html' %}
							<div class="col-md-3" style="width:74%;text-align: left">
                                <div class="bs-docs-example" style="color:black;">
									<div class="btn btn-danger"
									 onclick="javascript:window.open('/play?playlistid={{ playlist.id }}')"
									 style="color: #fff;margin-bottom:5px">播放歌单</div>
									<table class="table table-bordered">
									    <thead >
										    <tr style="text-align: center;">
										        <th>序号</th>
										        <th>歌单名称</th>
										        <th>音乐名称</th>
										        <th>添加时间</th>
										        <th>操作</th>
                                            </tr>
									    </thead>
									    <tbody>
                                            {% if not pageBean %}
                                                <tr><td colspan="5"><font style="color:black">暂无数据</font></td><tr>
                                            {% endif %}
                                            {% for playlistrecord in pageBean %}
												<tr>
												    <td>{{ forloop.counter }}</td>
												    <td>{{ playlist.playlistname }}</td>
												    <td>
                                                        <a href="/music/detail?musicid={{ playlistrecord.musicid.id }}">
                                                            {{ playlistrecord.musicid.musicname }}
                                                        </a>
												    </td>
												    <td>{{ playlistrecord.createtime }}</td>
												    <td>
									  				    <a href="javascript:doDelete({{ playlistrecord.id }})">删除</a>
												    </td>
												</tr>
                                            {% endfor %}
									    </tbody>
									</table>
						  		</div>
								<div class="clearfix"> </div>
								<form action="/playlist/detail" method="post" id="form">
		    		  				{% csrf_token %}
    		  				        <input type="hidden" name="page" value="{{ page }}" id="page">
		    		  				<input type="hidden" name="playlistid" value="{{ playlist.id }}">
		    		  			</form>
								{% include '../common/page.html' %}
							</div>
						</div><div class="clearfix"> </div>
					</div>
				</div>
			</div>
		</div>
		{% include '../common/footer.html' %}
	</section>
    {% include '../common/js.html' %}
</body>
<script>
	pathname ="/playlist/list";
	function doDelete(id){
       layer.confirm("确认删除？",{icon:7,title:"删除"},function(index){
    	   layer.close(index);
    	   common_ajax("/playlistrecord/delete","playlistrecordid="+id+"&playlistid={{ playlist.id }}"+"&csrfmiddlewaretoken={{ csrf_token }}");
       });
  	}
</script>
</html>
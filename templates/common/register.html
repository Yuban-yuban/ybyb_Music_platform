<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>用户注册【在线音乐推荐系统】</title>
    {% include '../common/css.html' %}
</head>
<body class="sticky-header left-side-collapsed" style="">
	<section>
		<div class="main-content" style="margin-left:0px;padding-top:0px">
			{% include '../common/header.html' %}
			<div id="page-wrapper">
				<div class="inner-content" align="center">
					<div class="music-left" style="float:none;">
						<div class="albums">
							<div class="tittle-head" align="center">
								<h3 class="tittle" style="float:none">
									用户注册
								</h3>
								<div class="clearfix"></div>
							</div><br>
							<div class="col-md-3" style="width:100%;text-align: left">
								<form action="/doRegister" method="post" class="form-horizontal" id="form" enctype="multipart/form-data">
                                    {% csrf_token %}
									<div class="form-group">
						                <label for="inputEmail" class="col-sm-2 col-md-2 control-label" style="width:25%">用户名：</label>
						                <div class="col-sm-6 col-md-6">
						                    <input type="text" name="username" id="username" class="form-control" value=""  maxlength="255" />
						                </div>
						            </div><div class="clearfix"> </div>
						            <div class="form-group">
						                <label for="inputEmail" class="col-sm-2 col-md-2 control-label" style="width:25%">邮箱：</label>
						                <div class="col-sm-6 col-md-6">
						                    <input type="text" name="email" id="email" class="form-control" value=""  maxlength="255" />
						                </div>
						            </div><div class="clearfix"> </div>
						            <div class="form-group">
						                <label for="inputEmail" class="col-sm-2 col-md-2 control-label" style="width:25%">密码：</label>
						                <div class="col-sm-6 col-md-6">
						                    <input type="password" class="form-control" name="password" id="password" maxlength="255" value=""/>
						                </div>
						            </div><div class="clearfix"> </div>
						            <div class="form-group">
						                <label for="inputEmail" class="col-sm-2 col-md-2 control-label" style="width:25%">确认密码：</label>
						                <div class="col-sm-6 col-md-6">
						                    <input type="password" class="form-control" name="passwordConf" id="passwordConf" maxlength="255" value=""/>
						                </div>
						            </div><div class="clearfix"> </div><br>
						            <div class="form-group" align="center">
										<div style="" >
											<div class="btn btn-danger" id="submitBtn" style="color: #fff">&nbsp;&nbsp;&nbsp;&nbsp;注册&nbsp;&nbsp;&nbsp;&nbsp;</div>
										</div>
										<a href="/login" style="margin-top: 10px;font-size: 10px;color: black;">已有账号，请登录</a>
									</div>
									<br>
								</form>
							</div>
						</div><div class="clearfix"></div>
					</div>
				</div>
			</div>
		</div>
		{% include '../common/footer.html' %}
	</section>
    {% include '../common/js.html' %}
    <script type="text/javascript">
		jQuery(document).ready(function() {
			$("#submitBtn").on("click",function(){
				var temp = true;
				$("#form input").each(function(){
					if($(this).val()==null || $(this).val()==""){
						temp = false;
						return false;
					}
				});
				if(!temp){
					layer.msg("数据不能为空!");
				}else{
				    //对电子邮件的验证
                    var emailreg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                    if(!emailreg.test($("#email").val())){
                        layer.msg("邮箱格式不正确!");return false;
                    }
					if($("#password").val()!=$("#passwordConf").val()){
						layer.msg("两次密码不一致!");return;
					}
		            common_ajax_other($("#form").attr("action"),$("#form").serialize());
				}
			});
		});
    </script>
</body>
</html>